# React Redux

- Redux는 글로벌 상태 관리 라이브러리

- 글로벌이란 모든 컴포넌트에서 쉽게 상태에 접근 및 상태를 변화시킬 수 있다는 의미

- 상태를 관리해주는 스토어를 컴포넌트 구조와 분리해 복잡하게 코드를 구성할 필요가 없어짐

## Redux 용어 정리

### 1. State(상태)

  - Redux 애플리케이션의 전체 상태를 나타내는 단어
  
  - 보통 Store에 의해 관리됨

### 2. Store(스토어)

  - 애플리케이션 상태 트리를 가지고 있는 객체

  - Redux 앱에서는 단 하나의 스토어만 가지고 있어야 함

### 3. Action(액션)

  - 상태를 변화시키려는 것을 표현하는 객체

    상태를 변화시키기 위해서는 액션을 생성해야 함

  - 액션은 스토어에 데이터를 넣는 유일한 방법

  - type 필드를 꼭 가지고 있어야 하고, 그 뒤에 사용자가 넣고 싶은 데이터를 자유롭게 넣을 수 있음

  ```js
  {
    type: "counter/INCREASE",
    value: 1
  }
  ```

### 4. Action Creators(액션 생성자)

  - 액션을 만드는 함수

  - 단지 액션을 만들기만 하고 스토어에 실제 요청을 보내지는 않음

  ```js
  const increase = value => ({
    type: "counter/INCREASE",
    value
  })
  ```

### 5. Dispatch(디스패치 함수)

  - 액션을 인자값으로 받는 함수

  - 그런 다음, 인자값으로 받은 액션을 스토어에 보내 상태관리를 요청함

  - 스토어에서 요청을 받으면 해당 액션을 처리하는 로직을 실행

  - 액션 생성자를 넣어 INCREASE 액션을 발생시킴으로써 상태 관리를 요청

  ```js
  store.dispatch(increase(10))
  ```

### Reducer(리듀서)

  - 실제 상태 변화가 발생하는 함수

  - Dispatch를 통한 요청을 받으면 실행되는 함수

  - 해당 액션 객체의 type값에 따라 특정 함수를 실행시키고, 새로운 상태를 만들어 반환

- 그 외에도 미들웨어, 비동기 액션이 있음. [Redux 공식문서 참고](https://lunit.gitbook.io/redux-in-korean/glossary)

## Redux의 3가지 원칙

### 1. Single source of truth

  - 애플리케이션의 모든 상태는 하나의 스토어 안에 하나의 객체 트리 구조로 저장됨

  - 이를 통해 애플리케이션 디버깅을 용이하게 만들 수 있음

### 2. State is read-only

  - 상태를 변화시키는 유일한 방법은 상태 변화를 나타내는 액션 객체를 전달하는 방법 뿐

  - 모든 상태 변화는 중앙에서 관리되고, 엄격한 순서에 의해 하나하나 실행되기 때문에 기록을 남길 수 있고, 저장할 수 있으며, 테스트나 디버깅을 위해 특정 액션을 재현하는 것도 가능함

### 3. Changes are made with pure functions

  - 액션에 의해 상태 트리가 어떻게 변화하는지를 지정하기 위해 순수한 리듀서를 작성해야 함

  - 액션을 가지고 상태를 변경해주고, 이전의 상태는 건들지 않고 새로운 상태를 만들어 반환

  - 그리고 똑같은 파라미터를 받아 실행된 리듀서는 언제나 똑같은 결과값을 반환해야 함

  - 리듀서 함수 내부에서 네트워크 및 데이터베이스 접근, Math와 Date같은 순수하지 않은 API를 호출하는 코드가 있으면 안됨

    이러한 작업은 리듀서 바깥에서 처리해줘야 하고, 이를 위해 보통 미들웨어를 사용함